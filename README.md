# n8n_Portfolio_Workflows  

## Project 1
### n8n Workflow: Auto-Generate & Email Daily Weather Insights

This n8n workflow automatically fetches daily weather information for a specific location (Harrison, NJ), formats it into a user-friendly HTML email, and sends it out on a daily schedule.

### Workflow Overview

The workflow performs the following steps:

1.  **Schedule Trigger:** Initiates the workflow every day at 8:00 AM based on the CRON expression `0 8 * * *`.
2.  **HTTP Request:** Makes a GET request to the Open-Meteo API (`https://api.open-meteo.com/`) to retrieve weather forecast data.
    *   **Location:** Hardcoded to Harrison, NJ (Latitude: 40.7465, Longitude: -74.1563).
    *   **Data Requested:**
        *   Daily: Sunrise, Sunset, Max Temperature (2m), Min Temperature (2m), Max UV Index, Max Wind Speed (10m), Dominant Wind Direction (10m).
        *   Current: Temperature (2m), Wind Speed (10m), Wind Direction (10m), Rain.
    *   **Units:** Fahrenheit for temperature, MPH for wind speed, Inch for precipitation.
    *   **Timezone:** America/New_York.
3.  **Code:** Executes JavaScript code to:
    *   Parse the JSON response from the HTTP Request node.
    *   Extract relevant current and daily weather data points.
    *   Format the sunrise/sunset times into a readable HH:MM AM/PM format.
    *   Construct an HTML string containing the formatted weather data, styled with CSS for better readability in an email client. Includes a title, date, sections for sunrise/sunset, temperature, UV/wind, current conditions, and a footer.
    *   Outputs the generated HTML within a JSON object.
4.  **Gmail:** Sends an email using a configured Gmail account.
    *   **Recipient:** `My Personal Email Address (for now)` (Can be scaled to multiple recipients using database operations).
    *   **Subject:** `n8n - Daily Weather Report`.
    *   **Body:** Uses the HTML generated by the Code node in the previous step as the email body.
    *   **Credentials:** Requires a configured Gmail OAuth2 credential.

### Prerequisites

*   An active n8n instance (cloud or self-hosted).
*   Configured Gmail OAuth2 credentials within your n8n instance.

### How to Use

1.  **Import:** Download the workflow JSON file (`Auto_Generate___Email_Daily_Weather_Insights.json`) and import it into your n8n instance.
2.  **Configure Credentials:** Ensure you have Gmail OAuth2 credentials set up in n8n. Select your configured credential in the "Gmail" node.
3.  **Customize (Optional):**
    *   **Location:** Modify the `latitude` and `longitude` parameters in the "HTTP Request" node's URL to get weather for a different location. Remember to update the location name in the "Code" node's HTML title if you change the coordinates.
    *   **Recipient:** Change the email address in the "Send To" field of the "Gmail" node.
    *   **Schedule:** Adjust the CRON expression in the "Schedule Trigger" node to change when the workflow runs.
    *   **Email Content/Styling:** Modify the JavaScript and HTML/CSS within the "Code" node to change the email's appearance or content.
4.  **Activate:** Save and activate the workflow.

The workflow will now run automatically according to the schedule, sending the daily weather report to the specified email address.
